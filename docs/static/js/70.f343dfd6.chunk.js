(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[70],{990:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(61),l=a(0),c=a.n(l),o=a(39),i=a(94),s=a(688),m=a(40),u=a(14),d=a(888),h=a.n(d),E=a(722),b=a(725),p=a(724),g=a(723),f=a(587),y=a(885),w=a.n(y),k=a(134),j=a.n(k),O=a(309),x=a(684),v=a(711),C=a(665),S=a(683),D=a(618),A=a(887),N=a(717),R=a(99),W=a(700),T=a(880),P=a(586),M=a(346),H=a(622),B=a(886),z=a.n(B),_=a(616),I=a(623),F=a(588),J=a(320),L=a(160),G=Object(u.c)(x.a)(F.a),U=Object(u.c)(v.a)(F.a),q=Object(u.c)(C.a)(F.a),K=Object(s.a)({title:{fontWeight:"bold"},addCardButton:{border:"1px solid"}});function Q(e){var t=e.classes,a=e.cluster,n=e.onEditClick,l=e.onRemoveClick,o=e.to,i=e.newTo,s=e.showMenu,m=a.status.connection||!1,u=a.cluster.name,d="".concat(a.cluster.scheme,"://").concat(a.cluster.host,":").concat(a.cluster.port),h=a.cluster.theme,E="N/A",b="N/A",p="N/A",g="N/A";m&&(E=Object.keys((a.status||{}).nodes||{}).length,b=a.status.state.indices,p=a.status.state.shards,g=a.status.state.store);var f=c.a.useState(null),y=Object(r.a)(f,2),k=y[0],j=y[1],O=Boolean(k),x=function(e){e.stopPropagation(),j(null)};return c.a.createElement(q,{item:!0,xs:12,md:6,lg:4,xl:3},c.a.createElement(G,{variant:"outlined",style:{cursor:"pointer"}},c.a.createElement(S.a,null,c.a.createElement(D.a,{style:{minHeight:"200px"},onClick:o},c.a.createElement(D.a,{className:t.title,align:"center"},u,c.a.createElement(D.a,{style:{position:"relative",height:"0px",right:"-45%",top:"15px"}},c.a.createElement(H.a,{onClick:i,size:"small"},c.a.createElement(w.a,null))),c.a.createElement(D.a,{style:{position:"relative",height:"0px",right:"-45%",top:"-25px",display:s?"block":"none"}},c.a.createElement(H.a,{onClick:function(e){e.stopPropagation(),j(e.currentTarget)},size:"small"},c.a.createElement(z.a,null)),c.a.createElement(_.a,{id:"long-menu",anchorEl:k,keepMounted:!0,open:O,onClose:x,PaperProps:{style:{maxHeight:216,width:"20ch"}}},c.a.createElement(I.a,{onClick:function(e){e.stopPropagation(),n(a),x(e)}}," \uc218\uc815 "),c.a.createElement(I.a,{onClick:function(e){e.stopPropagation(),l(a),x(e)}}," \uc0ad\uc81c ")))),c.a.createElement(U,{my:2}),c.a.createElement(q,{container:!0,mt:3},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\ub178\ub4dc")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},d))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\ub178\ub4dc \uc218")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},E))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\uc778\ub371\uc2a4")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},b))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\uc0e4\ub4dc")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},p))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\uc0ac\uc6a9 \uc6a9\ub7c9")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},g))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\uc0c9\uc0c1")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{display:"0"===h?"block":"none",backgroundColor:"rgb(27, 36, 48)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(D.a,{style:{display:"1"===h?"block":"none",backgroundColor:"rgb(255, 255, 255)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(D.a,{style:{display:"2"===h?"block":"none",backgroundColor:"rgb(25, 118, 210)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(D.a,{style:{display:"3"===h?"block":"none",backgroundColor:"rgb(56, 142, 60)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(D.a,{style:{display:"4"===h?"block":"none",backgroundColor:"rgb(57, 73, 171)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(D.a,{style:{display:"5"===h?"block":"none",backgroundColor:"rgb(0, 121, 107)",width:"16px",height:"16px",borderRadius:"90px"}}," "))),c.a.createElement(q,{container:!0,mt:1},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},"\uc5f0\uacb0\uc0c1\ud0dc")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{style:{whiteSpace:"nowrap"}},m?c.a.createElement(D.a,{component:"span",style:{color:"green"}},"\uc815\uc0c1"):c.a.createElement(D.a,{component:"span",style:{color:"red"}},"\uc2e4\ud328"))))))))}function V(e){var t=e.className,a=e.showButton?"block":"none";return c.a.createElement(c.a.Fragment,null,c.a.createElement(q,{item:!0,xs:12,md:6,lg:4,xl:3,style:{display:a}},c.a.createElement(G,{variant:"outlined",style:{minHeight:"245px"}},c.a.createElement(S.a,null,c.a.createElement(D.a,{display:"flex",justifyContent:"center",m:1,mt:10,className:t.title},"\uc2e0\uaddc \ud074\ub7ec\uc2a4\ud130 \ucd94\uac00"),c.a.createElement(D.a,{display:"flex",justifyContent:"center",m:2,mt:5},c.a.createElement(A.a,{color:"primary","aria-label":"add",onClick:function(){return e.handleClick()}},c.a.createElement(h.a,null)))))))}function X(e){var t=e.className;return c.a.createElement(q,{item:!0,xs:12,md:6,lg:4,xl:3},c.a.createElement(G,{variant:"outlined",style:{minHeight:"245px"}},c.a.createElement(S.a,null,c.a.createElement(D.a,{display:"flex",justifyContent:"center",m:1,mt:15,className:t.title},O.a," \uc11c\ubc84\uc124\uce58\ubc29\ubc95"),c.a.createElement(D.a,{display:"flex",justifyContent:"center",m:3},c.a.createElement(N.a,{target:"_blank",href:"https://github.com/danawalab/dsearch/blob/master/README.md"},"\ubc14\ub85c\uac00\uae30")))))}t.default=Object(o.b)((function(e){return Object(n.a)(Object(n.a)({},e.clusterReducers),e.dsearchReducers)}))((function(e){var t=e.dispatch,a=e.clusterList,n=e.authUser,o=(Object(i.f)(),K()),s=Object(f.a)(Object(m.a)().breakpoints.down("sm")),u=Object(l.useState)(!1),d=Object(r.a)(u,2),h=d[0],y=d[1],w=Object(l.useState)("http"),k=Object(r.a)(w,2),O=k[0],x=k[1],v=Object(l.useState)(""),C=Object(r.a)(v,2),S=C[0],A=C[1],N=Object(l.useState)(""),H=Object(r.a)(N,2),B=H[0],z=H[1],_=Object(l.useState)(""),I=Object(r.a)(_,2),F=I[0],G=I[1],Y=Object(l.useState)(""),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=Object(l.useState)(""),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],le=Object(l.useState)(""),ce=Object(r.a)(le,2),oe=ce[0],ie=ce[1],se=Object(l.useState)(0),me=Object(r.a)(se,2),ue=me[0],de=me[1],he=Object(l.useState)(""),Ee=Object(r.a)(he,2),be=Ee[0],pe=Ee[1],ge=Object(l.useState)(!1),fe=Object(r.a)(ge,2),ye=fe[0],we=fe[1],ke=Object(l.useState)(!1),je=Object(r.a)(ke,2),Oe=je[0],xe=je[1],ve=Object(l.useState)(!1),Ce=Object(r.a)(ve,2),Se=Ce[0],De=Ce[1],Ae=Object(l.useState)(!1),Ne=Object(r.a)(Ae,2),Re=Ne[0],We=Ne[1],Te=Object(l.useState)(!1),Pe=Object(r.a)(Te,2),Me=Pe[0],He=Pe[1],Be=Object(l.useState)(!1),ze=Object(r.a)(Be,2),_e=ze[0],Ie=ze[1],Fe=Object(l.useState)(""),Je=Object(r.a)(Fe,2),Le=Je[0],Ge=Je[1],Ue=Object(l.useState)(!1),qe=Object(r.a)(Ue,2),Ke=qe[0],Qe=qe[1],Ve=Object(l.useState)("ADD"),Xe=Object(r.a)(Ve,2),Ye=Xe[0],Ze=Xe[1],$e=Object(l.useState)(!1),et=Object(r.a)($e,2),tt=et[0],at=et[1];function nt(){at(!1),Ze("ADD"),xe(!1),De(!1),We(!1),He(!1),Ie(!1),A(""),x("http"),z(""),G(""),ee(""),re(""),ie(""),de(0),pe(""),we(!1),y(!h)}function rt(){xe(!1),De(!1),We(!1),He(!1),Ie(!1)}function lt(){if(""===S)return xe(!0),!1;if(""===B)return De(!0),!1;if(""===F||"0"===F)return We(!0),!1;if("https"===O){if(""===$)return He(!0),!1;if(""===ne)return Ie(!0),!1}return!!ye}function ct(e){Ze("EDIT"),console.log("edit",e),xe(!1),De(!1),We(!1),He(!1),Ie(!1),h?(A(""),x("http"),z(""),G(""),ee(""),re(""),ie(""),de(0)):(Ge(e.cluster.id),A(e.cluster.name),x(e.cluster.scheme),z(e.cluster.host),G(e.cluster.port),ee(e.cluster.username||""),re(e.cluster.password||""),ie(e.cluster.kibana||""),de(e.cluster.theme)),y(!h)}Object(l.useEffect)((function(){t(Object(J.d)())}),[]);var ot=n.role.manage;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{title:"\ud074\ub7ec\uc2a4\ud130"}),c.a.createElement(R.a,{variant:"h3",gutterBottom:!0,display:"inline"},"\ud074\ub7ec\uc2a4\ud130"),c.a.createElement(U,{my:6}),c.a.createElement(q,{container:!0,spacing:6},a.map((function(e){return c.a.createElement(Q,{key:e.cluster.id,cluster:e,classes:o,onEditClick:function(){return ct(e)},onRemoveClick:function(){return t=e.cluster.id,Ge(t),void Qe(!0);var t},to:function(){return function(e){var t=document.createElement("a");t.setAttribute("href","".concat(e,"/dashboard")),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click()}(e.cluster.id)},newTo:function(t){return function(e,t){e.stopPropagation();var a=window.outerWidth,n=window.outerHeight;a=Math.ceil(a/2)<=1500?1500:Math.ceil(a/2),n=Math.ceil(n/2)<=900?900:Math.ceil(n/2),window.open("".concat(t,"/dashboard"),t,"location=no,directories=no,resizable=no,status=no,toolbar=no,menubar=no,left=".concat(window.outerWidth/5,",top=50,scrollbars=yes,width=").concat(a,",height=").concat(n))}(t,e.cluster.id)},showMenu:ot})})),c.a.createElement(V,{key:"add",className:o,handleClick:nt,showButton:ot}),c.a.createElement(X,{key:"guide",className:o})),c.a.createElement(E.a,{fullScreen:s,open:h,onClose:nt,fullWidth:!0},c.a.createElement(g.a,null,"\ud074\ub7ec\uc2a4\ud130 ","ADD"===Ye?"\ucd94\uac00":"\uc218\uc815"),c.a.createElement(p.a,{"aria-setsize":500},c.a.createElement(q,{container:!0},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{align:"center",mt:2},"\uc774\ub984")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(W.a,{placeholder:"\uc6b4\uc601 \ud074\ub7ec\uc2a4\ud130",value:S,error:Oe,onChange:function(e){return A(e.target.value)}}))),c.a.createElement(U,{my:3}),c.a.createElement(q,{container:!0},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{align:"center",mt:2},"\uc811\uc18d\uc815\ubcf4")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,null,c.a.createElement(T.a,{value:O,onChange:function(e){return x(e.target.value)},fullWidth:!0},c.a.createElement(P.a,{variant:"menu",value:"http"},"HTTP"),c.a.createElement(P.a,{variant:"menu",value:"https"},"HTTPS"))),c.a.createElement(D.a,{mt:2},c.a.createElement(W.a,{placeholder:"127.0.0.1",fullWidth:!0,value:B,error:Se,onChange:function(e){return z(e.target.value)}})),c.a.createElement(D.a,{mt:2},c.a.createElement(W.a,{placeholder:"9200",fullWidth:!0,type:"number",value:F,error:Re,onChange:function(e){return G(e.target.value)}})),c.a.createElement(D.a,{display:"http"===O?"none":"block"},c.a.createElement(D.a,{mt:2},c.a.createElement(W.a,{placeholder:"elastic",fullWidth:!0,error:Me,value:$,onChange:function(e){return ee(e.target.value)}})),c.a.createElement(D.a,{mt:2},c.a.createElement(W.a,{type:"password",placeholder:"********",fullWidth:!0,error:_e,value:ne,onChange:function(e){return re(e.target.value)}}))))),c.a.createElement(U,{my:3}),c.a.createElement(q,{container:!0},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{align:"center",mt:2},"\ud0a4\ubc14\ub098")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,null,c.a.createElement(W.a,{placeholder:"http://kibana:5601",fullWidth:!0,value:oe,onChange:function(e){return ie(e.target.value)}})))),c.a.createElement(q,{container:!0},c.a.createElement(q,{item:!0,xs:4},c.a.createElement(D.a,{align:"center",mt:4},"\uc0c9\uc0c1")),c.a.createElement(q,{item:!0,xs:8},c.a.createElement(D.a,{mt:2},c.a.createElement(T.a,{value:ue,onChange:function(e){return de(e.target.value)},style:{width:"100%"}},c.a.createElement(P.a,{value:0,style:{width:"100%",backgroundColor:"rgb(27, 36, 48)"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(27, 36, 48)",color:"white"}}," Dark ")),c.a.createElement(P.a,{value:1,style:{width:"100%",backgroundColor:"rgb(255, 255, 255)",color:"black"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(255, 255, 255)",color:"black"}}," Light ")),c.a.createElement(P.a,{value:2,style:{width:"100%",backgroundColor:"rgb(25, 118, 210)",color:"white"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(25, 118, 210)",color:"white"}}," Blue ")),c.a.createElement(P.a,{value:3,style:{width:"100%",backgroundColor:"rgb(56, 142, 60)",color:"white"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(56, 142, 60)",color:"white"}}," Green ")),c.a.createElement(P.a,{value:4,style:{width:"100%",backgroundColor:"rgb(57, 73, 171)",color:"white"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(57, 73, 171)",color:"white"}}," Indigo ")),c.a.createElement(P.a,{value:5,style:{width:"100%",backgroundColor:"rgb(0, 121, 107)",color:"white"}},c.a.createElement(D.a,{style:{width:"100%",backgroundColor:"rgb(0, 121, 107)",color:"white"}}," Teal ")))))),c.a.createElement("br",null),c.a.createElement(D.a,{display:""===be?"none":"block"},be)),c.a.createElement(b.a,null,c.a.createElement(M.a,{variant:"outlined",onClick:function(){we(!1),pe(""),t(Object(J.e)({name:S,host:B,port:F,scheme:O,username:$,password:ne})).then((function(e){if(!e.connection)return we(!1),void pe("\uc5f0\uacb0 \uc2e4\ud328");we(!0);var t=Object.values(e.nodes).map((function(e){var t=e.http||e.http||{};return t.publish_address?"".concat(O,"://").concat(t.publish_address):null})).filter((function(e){return null!==e})).length;pe("[\uc5f0\uacb0 \uc131\uacf5] \ub178\ub4dc \uc218:"+t)})).catch((function(e){we(!1),pe(""),pe("\uc5f0\uacb0 \uc2e4\ud328"),console.error(e)}))}}," \uc5f0\uacb0\ud14c\uc2a4\ud2b8 "),c.a.createElement(D.a,{display:"ADD"===Ye?"block":"none"},c.a.createElement(M.a,{color:"primary",variant:"contained",disabled:!ye||tt,onClick:function(){if(at(!0),rt(),!lt())return!1;t(Object(J.a)({name:S,host:B,port:F,scheme:O,username:$,password:ne,kibana:oe,theme:ue})).then((function(e){at(!1),t(Object(J.d)()),nt()})).catch((function(e){at(!1),console.log(e),pe(e.message||"error"),alert("\uc2e4\ud328")}))}},"\ucd94\uac00")),c.a.createElement(D.a,{display:"EDIT"===Ye?"block":"none"},c.a.createElement(M.a,{color:"primary",variant:"contained",disabled:!ye,onClick:function(){if(rt(),!lt())return!1;t(Object(J.b)(Le,{name:S,host:B,port:F,scheme:O,username:$,password:ne,kibana:oe,theme:ue})).then((function(e){t(Object(J.d)()),ct()})).catch((function(e){console.log(e),pe(e.message||"error"),alert("\uc2e4\ud328")}))}},"\uc800\uc7a5")),c.a.createElement(M.a,{onClick:nt,variant:"contained"},"\ucde8\uc18c"))),c.a.createElement(E.a,{open:Ke,fullWidth:!0},c.a.createElement(g.a,null,"\ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c"),c.a.createElement(p.a,null,c.a.createElement(D.a,{style:{color:L.a[500]}}," \uc120\ud0dd\ud558\uc2e0 \ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? ")),c.a.createElement(b.a,null,c.a.createElement(M.a,{style:{backgroundColor:L.a[200]},variant:"contained",onClick:function(){t(Object(J.c)(Le)).then((function(e){t(Object(J.d)()),Ge(""),Qe(!1)})).catch((function(e){console.log(e),alert("\uc2e4\ud328")}))}},"\uc0ad\uc81c"),c.a.createElement(M.a,{onClick:function(){return Qe(!1)},variant:"contained"},"\ucde8\uc18c"))))}))}}]);
//# sourceMappingURL=70.f343dfd6.chunk.js.map